modified from https://github.com/BVLC/caffe/tree/master/src/gtest
